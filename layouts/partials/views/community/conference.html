{{/* Hugo Blox collection view æ¨¡æ¿ - åªæ˜¾ç¤º talk ç±»å‹çš„å†…å®¹ */}}

{{ $item := .item }}

{{/* æ£€æŸ¥é¡¹ç›®æ˜¯å¦å±äº talk ç±»å‹ */}}
{{ $isValidTalk := false }}

{{/* æ£€æŸ¥å¤šä¸ªæ¡ä»¶æ¥ç¡®è®¤è¿™æ˜¯ä¸€ä¸ª talk */}}
{{ if $item }}
  {{/* æ–¹æ³•1: æ£€æŸ¥æ–‡ä»¶è·¯å¾„ */}}
  {{ if and $item.File (strings.Contains $item.File.Path "talk/") }}
    {{ $isValidTalk = true }}
  {{ end }}
  
  {{/* æ–¹æ³•2: æ£€æŸ¥ Section */}}
  {{ if eq $item.Section "talk" }}
    {{ $isValidTalk = true }}
  {{ end }}
  
  {{/* æ–¹æ³•3: æ£€æŸ¥ Type */}}
  {{ if eq $item.Type "talk" }}
    {{ $isValidTalk = true }}
  {{ end }}
  
  {{/* æ–¹æ³•4: æ£€æŸ¥æ˜¯å¦æœ‰ä¼šè®®ç›¸å…³çš„å‚æ•° */}}
  {{ if and $item.Params.event (or $item.Params.location $item.Params.presentation) }}
    {{ $isValidTalk = true }}
  {{ end }}
{{ end }}

{{ if and $item $isValidTalk }}
  <div class="mb-4">
    <div class="border-l-4 border-blue-500 pl-4">
      <h3 class="font-semibold text-lg">{{ $item.Title }}</h3>
      
      {{ with $item.Params.event }}
        <p class="text-gray-600 italic">{{ . }}</p>
      {{ end }}
      
      <div class="text-sm text-gray-500 mt-1">
        {{ with $item.Params.location }}
          <span>ğŸ“ {{ . }}</span>
        {{ end }}
        
        {{ with $item.Date }}
          <span class="ml-2">ğŸ“… {{ dateFormat "January 2, 2006" . }}</span>
        {{ end }}
        
        {{ if and $item.Params.date_end (ne $item.Date $item.Params.date_end) }}
          {{ $endDate := time $item.Params.date_end }}
          <span> - {{ dateFormat "January 2, 2006" $endDate }}</span>
        {{ end }}
      </div>
      
      {{ with $item.Params.presentation }}
        <div class="mt-2">
          <span class="inline-block bg-blue-100 text-blue-800 text-xs font-medium px-2 py-1 rounded">
            {{ . }}
          </span>
        </div>
      {{ end }}
      
      {{ with $item.Summary }}
        <p class="text-sm text-gray-600 mt-2">{{ . }}</p>
      {{ end }}
    </div>
  </div>
{{ end }}
